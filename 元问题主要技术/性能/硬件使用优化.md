# 硬件使用优化

## CPU亲和力
* spark可以配置每个应用可使用的总集群和单机executor进程最大数量，即每个应用最多可以使用几个进程来分片执行。当然，进程数最好别配置超过cpu核数
* k8s：cpuset功能，即cpu亲和力，将容器分配到固定CPU减少切换，nginx也有，这是性能优化双刃剑，要求进程少于核数

## 局部性原理
* 临近正在被访问数据的数据很有可能接下来被访问
* 重复引用同一变量的程序有较好的时间局部性。
* 对于具有步长为k的引用模式的程序，步长越小，空间局部性就越好。具有步长为1的引用模式的程序有很好的空间局部性。在存储器中以大步跳来跳去的程序的空间局部性就很差。
* 对于取指令来说，循环有很好的空间和时间局部性。循环体越小，循环迭代次数越多，局部性越好。

