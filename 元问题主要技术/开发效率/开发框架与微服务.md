# 开发框架与微服务

## SOA
```
SOA的主要特性：
面向服务的分布式计算。
服务间松散耦合。
支持服务的组装。
服务注册和自动发现。
以服务契约方式定义服务交互方式。
```
## ESB
* 中台首要解决服务复用问题，这是soa(微服务)的精髓，esb只是将服务打通，但没有解决复用问题，还是会形成烟囱
* 微服务和esb都是soa设计理念的实现，相较而言，前者去中心化，后者中心化，区别在于esb实际上可以看成是一个提供了服务发现注册、适配协议、数据格式、参数转换、负载的中心路由器。前者适用于企业内部同构系统互通上，后者适用于异构系统环境和外部系统访问

## 微服务开发框架
spring cloud、阿里dubbo/HSF、蚂蚁SOFA、当当dubbox等。服务治理的设计思路和目标？？ 

### Spring Framework
POJO、面向接口编程、非侵入
IoC能够让相互协作的软件组件保持松耦合，AOP让遍布应用各处的功能分离出来形成高内聚可重用的组件
* IoC-Inversion of Control
  * 两种：DI（依赖注入）指当前软件实体被动接受其依赖的其他组件被容器注入，DL（依赖查找，Dependency Lookup）指当前软件实体主动去某个服务注册地查找其依赖的那些服务
  * 早在2004年，Martin Fowler就提出“哪些方面的控制被反转了？”，结论是依赖对象的获得被反转了，这就是依赖注入。许多应用由多个类通过彼此引用合作来实现，如果引用要靠自身来完成，将导致代码高度耦合且难以测试，比如依赖链路上某个对象未被初始化，单测将不能正常执行，而Spring可以让这些依赖自动注入
* AOP-Aspect Oriented Programming

### Spring Boot：build anything
SpringApplication:run()
由多个start组成
Springboot在Framework上做了什么封装？？
 1：创建独立的spring应用：使用了@SpringBootApplication初始化了spring容器（ioc容器）
 2：嵌入Tomcat, Jetty Undertow 而且不需要部署他们。
 3：提供的“starters” poms来简化Maven配置
 4：尽可能自动配置spring应用。
 5：提供生产指标,健壮检查和外部化配置
 6：绝对没有代码生成和XML配置要求

### Spring Cloud：coordinate anything
@SpringBootApplication
@EnableDiscoveryClient

### Spring Cloud Data Flow：connect anything
